<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Stock</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 24px; }
    .row { display:flex; gap:12px; flex-wrap:wrap; margin-bottom: 12px; }
    select, input { padding:8px; border:1px solid #ccc; border-radius:8px; }
    button { padding:9px 12px; border:1px solid #111; border-radius:10px; background:#111; color:#fff; cursor:pointer; }
    button:hover { opacity:.9; }
    table { width:100%; border-collapse: collapse; }
    th, td { border-bottom:1px solid #eee; padding:10px; text-align:left; }
    th { background:#fafafa; }
    .muted { color:#666; font-size: 13px; }
    a { color:#111; }
  </style>
</head>
<body>
  <h1>Stock</h1>
  <p class="muted">Total mostrado: <strong>{{ total }}</strong></p>

  <form method="get" class="row">
    <label>
      Tipo:
      <select name="tipo">
        <option value="">(Todos)</option>
        {% for t in tipos %}
          <option value="{{ t }}" {% if tipo_sel == t %}selected{% endif %}>{{ t }}</option>
        {% endfor %}
      </select>
    </label>

    <label>
      Estado:
      <select name="estado">
        <option value="">(Todos)</option>
        {% for e in estados %}
          <option value="{{ e }}" {% if estado_sel == e %}selected{% endif %}>{{ e }}</option>
        {% endfor %}
      </select>
    </label>

    <label>
      Buscar:
      <input name="q" value="{{ q }}" placeholder="código / color / marca / talle" />
    </label>

    <button type="submit">Filtrar</button>
    <a href="/prendas/stock/" style="align-self:center;">Limpiar</a>
  </form>

  <table>
    <thead>
      <tr>
        <th>Código</th>
        <th>Tipo</th>
        <th>Color</th>
        <th>Marca</th>
        <th>Talle</th>
        <th>Estado</th>
      </tr>
    </thead>
    <tbody>
      {% for p in prendas %}
        <tr>
          <td><strong>{{ p.codigo }}</strong></td>
          <td>{{ p.tipo }}</td>
          <td>{{ p.color }}</td>
          <td>{{ p.marca }}</td>
          <td>{{ p.talle }}</td>
          <td>{{ p.estado }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="6">No hay prendas con esos filtros.</td></tr>
      {% endfor %}
    </tbody>
  </table>

  <p style="margin-top:16px;"><a href="/">⬅ Volver al menú</a></p>
</body>
</html>
